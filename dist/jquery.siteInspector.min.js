/*
 *  Site Inspector - v0.2.3
 *  A jQuery plugin to inspect a site's markup.
 *  https://github.com/anthonygreco/siteInspector
 *
 *  Made by Anthony Greco
 *  Under MIT License
 */
"use strict";!function(a){function b(b,c){function d(a){if(void 0===D[a])throw new Error("Hook "+a+" does not exist on jQuery.siteInspector");D[a].call(y)}function e(a){console.log("jquery.siteInspector LOG: "+a)}function f(){D.debug&&e("Appending CSS");var b=D.debug&&D.cssPath===!1?".css":".min.css",c=D.cssPath?D.cssPath:"/css/jquery-siteInspector"+b;a("head").append('<link rel="stylesheet" href="'+c+'" />')}function g(){var b=a(C);return[a("<span />",{"class":"ui inspector node"}).html(C.nodeName.toLowerCase()),void 0!==b.attr("id")?a("<span />",{"class":"ui inspector id"}).html("#"+b.attr("id")):"",""!==C.className?a("<span />",{"class":"ui inspector className"}).html("."+C.className.split(" ").join(".")):"",a("<span />",{"class":"ui inspector dimensions x"}).html(b.outerWidth()+"px"),a("<i />",{"class":"ui inspector glyphicon glyphicon-remove"}),a("<span />",{"class":"ui inspector dimensions y"}).html(b.outerHeight()+"px")]}function h(){var b={offset:a(C).offset(),height:a(C).outerHeight()},c=a(C).uniqueSelector(),d=a(".tag");return d.data("selector")===c?!1:void d.hide().data("selector",c).empty().append(g()).css({top:b.offset.top+b.height+d.height()>=a(document).height()?20:b.offset.top+b.height,left:b.offset.top+b.height+d.height()>=a(document).height()?20:b.offset.left,position:b.offset.top+b.height+d.height()>=a(document).height()?"fixed":"absolute"}).show()}function i(b){var c=a(void 0===b?C:b);if(void 0!==c.offset()){D.showTags&&h();var d={top:c.offset().top-a(window).scrollTop(),left:c.offset().left,bottom:c.offset().top-a(window).scrollTop()+c.height(),right:c.offset().left+c.width()},e=[{top:0,left:0,width:0===d.left?0:"100%",height:0===d.top?0:d.top},{top:d.top,left:0,width:d.left,height:a(window).height()-d.top},{top:d.top+c.outerHeight(),left:d.left,width:a(window).width()-d.left,height:a(window).height()-d.bottom},{top:d.top,left:d.left+c.outerWidth(),width:a(window).width()-(d.left+c.outerWidth()),height:c.outerHeight()}];a(".cover").each(function(b){a(this).css(e[b])})}}function j(){A&&i()}function k(){D.debug&&e("Binding Window Events"),a(window).on({"scroll.siteInspector.window":function(){j()},"resize.siteInspector.window":function(){j()}})}function l(){D.debug&&e("Binding Leave Event"),window.onbeforeunload=function(){return A?"INSPECTION IS CURRENTLY ENABLED!":void 0}}function m(){C=null,a(".cover").css({width:0,height:0})}function n(){A=!A,D.debug&&e("Toggling Inspection. Enabled? "+A),A?(a(y).css("cursor","cell"),a("#uiWrapper #inspect i").addClass("active"),a(y).find("*:not(.ui)").on({"mouseenter.siteInspector.inspection":function(a){B||(C=a.currentTarget,i())}})):B||(a(y).css("cursor","default"),a("#uiWrapper #inspect i").removeClass("active"),a(y).find("*:not(.ui)").off("mouseenter.siteInspector.inspection"),m(),D.showTags&&a(".tag").remove())}function o(){return D.debug&&e("Binding Inspection Button Event"),{"click.siteInspector.inspectionButton":function(){n()},"mouseenter.siteInspector.inspectionButton":function(){A||a(this).find("i").addClass("active")},"mouseleave.siteInspector.inspectionButton":function(){A||a(this).find("i").removeClass("active")}}}function p(){D.debug&&e("Building UI");var b=a("<div />",{"class":"cover ui inspector"}),c=a("<div />",{id:"overlay","class":"ui inspector"}).append([b.clone(),b.clone(),b.clone(),b.clone()]),d=a("<div />",{id:"inspect","class":"ui inspector"}).on(o()).append(a("<i />",{"class":"glyphicon glyphicon-search ui inspector"})),f=a("<div />",{id:"uiWrapper","class":"ui inspector"}).append(d),g=a("<div />",{"class":"tag ui inspector"});a("body").append([f,c,g]),k(),l()}function q(){D.debug&&console.time("jquery.siteInspector Init"),f(),p(),d("onInit"),D.debug&&console.timeEnd("jquery.siteInspector Init")}function r(){D.debug&&e("Unbinding Window Events"),a(window).off("scroll.siteInspector.window resize.siteInspector.window")}function s(){D.debug&&e("Unbinding Inspection Button Event"),a("#inspect").off("click.siteInspector.inspectionButton mouseenter.siteInspector.inspectionButton mouseleave.siteInspector.inspectionButton"),a(y).find("*:not(.ui)").off("mouseenter.siteInspector.inspection"),a(y).css("cursor","default")}function t(){D.debug&&e("Unbinding Leave Event"),window.onbeforeunload=null}function u(){D.debug&&e("Destroying Plugin"),z.each(function(){r(),s(),t(),a(this).find(".ui.inspector").remove(),d("onDestroy"),a(this).removeData("siteInspector")})}function v(a,b){return b?(D.debug&&e("Setting option for "+a+" to "+b),void(D[a]=b)):(D.debug&&e("Returning option for "+a+" as "+D[a]),D[a])}function w(){return A}function x(){return B=!B,D.debug&&e("Toggling Frozen. Frozen? "+B),B}var y=b,z=a(b),A=!1,B=!1,C=null,D=a.extend({},a.fn.siteInspector.defaults,c);return q(),{option:v,destroy:u,isEnabled:w,toggleFrozen:x}}a.fn.siteInspector=function(c){if("string"==typeof arguments[0]){var d,e=arguments[0],f=Array.prototype.slice.call(arguments,1);return this.each(function(){if(!a.data(this,"siteInspector")||"function"!=typeof a.data(this,"siteInspector")[e])throw new Error("Method "+e+" does not exist on jQuery.siteInspector");d=a.data(this,"siteInspector")[e].apply(this,f)}),void 0!==d?d:this}return"object"!=typeof c&&c?void 0:this.each(function(){a.data(this,"siteInspector")||a.data(this,"siteInspector",new b(this,c))})},a.fn.siteInspector.defaults={debug:!1,showTags:!1,cssPath:!1,fontAwesomePath:!1,onInit:function(){},onDestroy:function(){}}}(jQuery);